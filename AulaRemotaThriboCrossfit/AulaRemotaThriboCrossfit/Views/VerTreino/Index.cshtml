@model AulaRemotaThriboCrossfit.Models.Treino
@{
    Layout = "";
}
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - AulaRemotaThriboCrossfit</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>
    <div class="container">
        <main role="main" class="pb-3 treino">
            <div id="outer" class="container">
                <div class="col-md-12 text-center">
                    <p>
                        @if (Model.Equipamento == "Anilha")
                        {
                        <img src="~/img/anilha.png" />
                        }
                        else if (Model.Equipamento == "Dumbbell")
                        {
                        <img src="~/img/dumbell.png" />
                        }
                        else if (Model.Equipamento == "Kettlebell")
                        {
                        <img src="~/img/ktb.png" />
                        }
                        else
                        {
                        <img src="~/img/bola.png" />
                        }
                    </p>
                    <h1> @Model.Equipamento</h1>
                    <div class="col-md-12" style=" color: rgb(255, 216, 0);">
                        <h3>Mobilidade</h3>
                    </div>
                    <div class="col-md-12 text-center">
                        <div class="meio">
                            <div class="text-left">
                                @foreach (var item in Model.Exercicios.Where(c => c.Exercicio.TipoExercicio == "Mobilidade").ToList())
                                {
                                <p class="descricaoExercicio">
                                    <span>@item.Exercicio.Nome</span>
                                    <span>@item.Descricao</span>
                                    <span>
                                        <button type="button" class="btn btn-outline-info" data-video-url="@item.Exercicio.VideoURL" data-toggle="modal" data-target="#modalVideo">
                                            <span class="glyphicon glyphicon-facetime-video"></span> Assistir
                                        </button>
                                    </span>
                                </p>
                                }
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <h3 style=" color: rgb(22, 168, 233); margin-top: 40px">Aquecimento</h3>
                    </div>
                    <div class="col-md-12 text-center">
                        <div class="meio">
                            <div class="text-left">
                                @foreach (var item in Model.Exercicios.Where(c => c.Exercicio.TipoExercicio == "Aquecimento").ToList())
                                {
                                <p class="descricaoExercicioAquecimento">
                                    <span>@item.Exercicio.Nome</span>
                                    <span>@item.Descricao</span>
                                    <span>
                                        <button type="button" class="btn btn-outline-info" data-video-url="@item.Exercicio.VideoURL" data-toggle="modal" data-target="#modalVideo">
                                            <span class="glyphicon glyphicon-facetime-video"></span> Assistir
                                        </button>
                                    </span>
                                </p>
                                }
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <h3 style="color: rgb(182, 255, 0); margin-top: 40px">Core</h3>
                    </div>
                    <div class="col-md-12 text-center">
                        <div class="meio">
                            <div class="text-left">
                                @foreach (var item in Model.Exercicios.Where(c => c.Exercicio.TipoExercicio == "Core").ToList())
                                {
                                <p class="descricaoExercicioCore">
                                    <span>@item.Exercicio.Nome</span>
                                    <span>@item.Descricao</span>
                                    <span>
                                        <button type="button" class="btn btn-outline-info" data-video-url="@item.Exercicio.VideoURL" data-toggle="modal" data-target="#modalVideo">
                                            <span class="glyphicon glyphicon-facetime-video"></span> Assistir
                                        </button>
                                    </span>
                                </p>
                                }
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <h3 style="color: white; margin-top: 40px">WOD</h3>
                    </div>
                    <div class="col-md-12 text-center">
                        <div class="meio">
                            <div class="text-left">
                                @foreach (var item in Model.Exercicios.Where(c => c.Exercicio.TipoExercicio == "WOD").ToList())
                                {
                                <p class="descricaoExercicioWod">
                                    <span>@item.Exercicio.Nome</span>
                                    <span>@item.Descricao</span>
                                    <span>
                                        <button type="button" class="btn btn-outline-info" data-video-url="@item.Exercicio.VideoURL" data-toggle="modal" data-target="#modalVideo">
                                            <span class="glyphicon glyphicon-facetime-video"></span> Assistir
                                        </button>
                                    </span>
                                </p>
                                }
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <h3 style="color: mediumpurple; margin-top: 40px">Alongamento</h3>
                    </div>
                    <div class="col-md-12 text-center">
                        <div class="meio">
                            <div class="text-left">
                                @foreach (var item in Model.Exercicios.Where(c => c.Exercicio.TipoExercicio == "Alongamento").ToList())
                                {
                                <p class="descricaoExercicioAlongamento">
                                    <span>@item.Exercicio.Nome</span>
                                    <span>@item.Descricao</span>
                                    <span>
                                        <button type="button" class="btn btn-outline-info" data-video-url="@item.Exercicio.VideoURL" data-toggle="modal" data-target="#modalVideo">
                                            <span class="glyphicon glyphicon-facetime-video"></span> Assistir
                                        </button>
                                    </span>
                                </p>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <style>
        #outer {
            width: 100%;
            height: 100vh;
            display: flex;
        }

        #inner {
            margin: auto;
        }
    </style>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.js"></script>
    <link href="~/css/exericios.css" rel="stylesheet" />
    <style>
        body {
            background: url("../../img/fundocross.jpg") no-repeat center center fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
        }

        li {
            margin-right: 20px;
        }

        img {
            max-height: 200px;
            max-width: 200px;
        }

        p {
            margin-bottom: 0;
        }

        h1 {
            margin-top: 0;
            color: white;
        }

        .treino {
            position: relative;
            height: 150%;
            background: rgb(0, 0, 0); /* Fallback for older browsers without RGBA-support */
            background: rgba(0, 0, 0, 0.5);
        }


        .descricaoExercicio {
            color: rgb(255, 216, 0);
            font-size: 20px;
        }

        .descricaoExercicioAquecimento {
            color: rgb(22, 168, 233);
            font-size: 20px;
        }

        .descricaoExercicioCore {
            color: rgb(182, 255, 0);
            font-size: 20px;
        }

        .descricaoExercicioWod {
            color: white;
            font-size: 20px;
        }

        .descricaoExercicioAlongamento {
            color: mediumpurple;
            font-size: 20px;
        }
    </style>
    @*-------------------------------------MODAL--------------------------------------*@
    <div class="modal fade" id="modalVideo" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <video controls id="videoModal" name="videoModal">
                    <source type="video/mp4" id="videoModalUrl" name="videoModalUrl">
                    Your browser does not support the video tag.
                </video>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            $('#modalVideo').on('hidden.bs.modal', function () {
                $('#videoModal').get(0).pause();
            })
            $('#modalVideo').on('show.bs.modal', function (e) {
                var videoUrl = $(e.relatedTarget).data('video-url');
                $('#videoModal').get(0).pause();
                $('#videoModalUrl').attr('src', videoUrl);
                $('#videoModal').get(0).load();
                openFullscreen($('#videoModal').get(0));
            });
            function openFullscreen(myVideo) {
                console.log("hitting")
                var elem = myVideo
                console.log(elem)
                if (elem.requestFullscreen) {
                    elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                    elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari & Opera */
                    elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                    elem.msRequestFullscreen();
                }
                $('#videoModal').get(0).play();
            }
        });
    </script>
</body>
</html>